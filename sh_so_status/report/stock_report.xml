<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Delivery Slip Report -->
    <template id="sh_so_status_delivery_slip_report" inherit_id="stock.report_delivery_document">
        <xpath expr="//table[@name='stock_move_table']" position="before">
            <div class="row mt40 mb40" id="so_status">
                <div class="col-auto">
                    <strong>Delivery Status : </strong>
                    <t t-foreach="request.env['sale.order'].sudo().search([('name', '=', o.origin)])" t-as="sale_record">
                    <t t-if="sale_record.sh_fully_delivered"><p class="badge badge-success">Fully Delivered</p></t>
                    <t t-elif="sale_record.sh_partially_delivered"><p class="badge badge-warning">Partially Delivered</p></t>
                    <t t-else=""><p class="badge badge-danger">Not Defined</p></t>
                    </t>
                </div>
            </div>
        </xpath>
    </template>
</odoo>
